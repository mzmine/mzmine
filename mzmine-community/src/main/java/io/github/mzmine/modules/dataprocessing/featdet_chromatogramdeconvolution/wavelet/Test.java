/*
 * Copyright (c) 2004-2025 The mzmine Development Team
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

package io.github.mzmine.modules.dataprocessing.featdet_chromatogramdeconvolution.wavelet;

import com.google.common.collect.Range;
import io.github.mzmine.datamodel.features.FeatureList;
import java.util.List;
import java.util.logging.Logger;

public class Test {

  private static final Logger logger = Logger.getLogger(Test.class.getName());

  static double[] x = {3.006572485, 3.014405966, 3.022239208, 3.029830694, 3.037739038, 3.045570374,
      3.053334713, 3.06101799, 3.106949091, 3.113980293, 3.121263742, 3.128682375, 3.135986567,
      3.143565416, 3.151161432, 3.158307314, 3.165209293, 3.172471523, 3.182357073, 3.190000772,
      3.197686195, 3.205129862, 3.212511063, 3.220252514, 3.227962971, 3.23570466, 3.243462801,
      3.251300335, 3.258519173, 3.268333673, 3.275773287, 3.282860518, 3.290150166, 3.297271013,
      3.304491758, 3.312072992, 3.319620848, 3.326631308, 3.33418107, 3.341341496, 3.348433018,
      3.355729103, 3.363370419, 3.370749712, 3.378214121, 3.385382891, 3.392712116, 3.400418282,
      3.407963991, 3.415478706, 3.422938824, 3.432174206, 3.439809799, 3.447549105, 3.455280304,
      3.462765694, 3.470346928, 3.478005409, 3.485546827, 3.49318862, 3.500861406, 3.508046865,
      3.5152843, 3.522680044, 3.530315399, 3.537965298, 3.545975685, 3.553367376, 3.560896397,
      3.568240166, 3.576287985, 3.583967209, 3.591613054, 3.599279642, 3.606819153, 3.614477396,
      3.62215662, 3.629127264, 3.636425257, 3.643816948, 3.651368856, 3.659029245, 3.666145802,
      3.673006296, 3.681670904, 3.688637495, 3.695737362, 3.70324564, 3.710122585, 3.717351913,
      3.724978924, 3.731816292, 3.738941193, 3.746489286, 3.75370574, 3.762605667, 3.769443274,
      3.776284933, 3.783682585, 3.791128397, 3.798670292, 3.805949211, 3.812767982, 3.820038795,
      3.827257395, 3.834830284, 3.842382431, 3.851367712, 3.858246803, 3.865230083, 3.872540712,
      3.880028009, 3.887592554, 3.895250797, 3.90244031, 3.909779787, 3.917554855, 3.925075531,
      3.9349401, 3.94196105, 3.949088097, 3.956767082, 3.964363098, 3.971939802, 3.979577303,
      3.986656427, 3.994033575};

  static double[] y = {212791.97, 203881.11, 191710.23, 193407.97, 182019.81, 199198.03, 159036.72, 0.00,
      0.00, 213271.48, 0.00, 198822.81, 216470.31, 228286.89, 242481.58, 267266.28, 295223.31,
      333872.44, 390317.66, 436375.63, 646107.25, 2882462.25, 13979135.00, 34251160.00, 44303020.00,
      37116768.00, 19721692.00, 11703074.00, 35054756.00, 433564736.00, 1101842816.00,
      1458306944.00, 1605669760.00, 1306359424.00, 929625024.00, 660084288.00, 395906336.00,
      249761280.00, 179491008.00, 114487312.00, 85654048.00, 59251700.00, 47476528.00, 41529204.00,
      38562184.00, 31293936.00, 28135510.00, 30122374.00, 21539438.00, 21174038.00, 20068152.00,
      18159546.00, 17567534.00, 18154172.00, 18137970.00, 20211978.00, 30095012.00, 81068504.00,
      174301312.00, 281804128.00, 309240768.00, 315981376.00, 229847376.00, 195524128.00,
      169651840.00, 139772096.00, 112131984.00, 98685456.00, 86917912.00, 81098472.00, 72427496.00,
      66179300.00, 59752660.00, 60582144.00, 49683048.00, 45881708.00, 45068080.00, 41530240.00,
      39713788.00, 39397676.00, 34381584.00, 33131158.00, 29835188.00, 33629132.00, 25514724.00,
      24387570.00, 26577314.00, 23467222.00, 24118932.00, 21543474.00, 19033764.00, 17971946.00,
      16347853.00, 15771214.00, 15761372.00, 16939748.00, 12909557.00, 12757133.00, 10714035.00,
      12209938.00, 11693727.00, 11353042.00, 10820540.00, 10338882.00, 10055796.00, 10645008.00,
      12359609.00, 12165702.00, 13012910.00, 13204315.00, 12506855.00, 13477899.00, 11760698.00,
      10521089.00, 10894539.00, 11900605.00, 11001578.00, 10500189.00, 9401656.00, 9065383.00,
      6620452.00, 6932297.50, 7154982.50, 6713828.50, 8077720.00, 8853378.00, 8900064.00};

  static void main(String[] args) {
    final WaveletPeakDetector resolver = new WaveletPeakDetector(
        new double[]{1d, 1.5d, 2d, 3d, 5d, 8d, 10d}, 5, null, 1E3, 0.1,
        AdvancedWaveletParameters.DEFAULT_WAVELET_KERNEL,
        AdvancedWaveletParameters.DEFAULT_NOISE_WINDOW,
        AdvancedWaveletParameters.MIN_FITTING_SCALES, true, FeatureList.createDummy(),
        new WaveletResolverParameters());

//    new DetectedPeak(32, 3.290150166, 1605669760.00, Double.NaN, 0d);
//    new DetectedPeak(61, 3.508046865, 315981376.00, Double.NaN, 0d);

    final List<Range<Double>> resolve = resolver.resolve(x, y);
    logger.info(resolve.toString());
  }
}
