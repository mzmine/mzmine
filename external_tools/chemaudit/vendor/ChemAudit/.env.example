# ChemAudit Environment Configuration
# Copy this file to .env and update with your values
# IMPORTANT: Never commit .env to version control

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_USER=chemaudit
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD_32_CHARS
POSTGRES_DB=chemaudit
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_URL=redis://redis:6379/0
REDIS_MAXMEMORY=512mb

# =============================================================================
# Security Secrets (REQUIRED - Generate secure values!)
# =============================================================================
# Generate with: openssl rand -hex 64
SECRET_KEY=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_64

# Admin secret for API key management endpoints
# Generate with: openssl rand -hex 32
API_KEY_ADMIN_SECRET=CHANGE_ME_ADMIN_SECRET_FOR_KEY_MANAGEMENT

# CSRF protection secret
# Generate with: openssl rand -hex 32
CSRF_SECRET_KEY=CHANGE_ME_CSRF_SECRET_32_CHARS

# =============================================================================
# API Key Settings
# =============================================================================
API_KEY_DEFAULT_EXPIRY_DAYS=90
API_KEY_MAX_EXPIRY_DAYS=365

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_BAN_THRESHOLD=100
RATE_LIMIT_BAN_DURATION_MINUTES=60

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS_STR=http://localhost:3002,http://127.0.0.1:3002

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8001

# =============================================================================
# Frontend Configuration
# =============================================================================
VITE_API_URL=http://localhost:8001

# Allowed hosts for Vite dev server (comma-separated)
# Example: VITE_ALLOWED_HOSTS=localhost,myserver.example.com
VITE_ALLOWED_HOSTS=localhost

# =============================================================================
# External API Keys
# =============================================================================
COCONUT_API_TOKEN=  # Required for COCONUT natural products database

# =============================================================================
# Environment
# =============================================================================
PYTHONUNBUFFERED=1
LOG_LEVEL=info

# =============================================================================
# Monitoring
# =============================================================================
ENABLE_METRICS=true

# =============================================================================
# Celery Configuration
# =============================================================================
CELERY_LOG_LEVEL=info
CELERY_WORKERS=4                    # Workers for large batch jobs (default queue)
CELERY_WORKERS_PRIORITY=2           # Workers for small/priority jobs (high_priority queue)

# =============================================================================
# Batch Processing Limits
# =============================================================================
MAX_FILE_SIZE_MB=500
MAX_BATCH_SIZE=10000

# =============================================================================
# Nginx Configuration
# =============================================================================
HTTP_PORT=80
HTTPS_PORT=443

# =============================================================================
# Grafana Configuration
# =============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD
GRAFANA_URL=http://localhost:3001

# =============================================================================
# Production Settings (for docker-compose.prod.yml)
# =============================================================================
DEPLOYMENT_PROFILE=medium
GUNICORN_WORKERS=4
BACKEND_MEMORY_LIMIT=2g
CELERY_MEMORY_LIMIT=2g
CELERY_PRIORITY_MEMORY_LIMIT=1g
